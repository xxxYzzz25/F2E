webpackJsonp([1],{"57CR":function(e,t){},Ev4d:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("7+uW"),s=n("zL8q"),o=n.n(s),a=(n("tvR6"),n("/ocq")),c=n("Dd8w"),r=n.n(c),l=n("NYxO"),d={computed:r()({},Object(l.d)(["totalLength","pageSize"]),Object(l.b)(["filteredData"])),methods:r()({},Object(l.c)(["changePage"]))},u={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"wrapper"}},[0===e.filteredData.length?n("div",{staticStyle:{"text-align":"center"}},[e._v("沒有景點可以去啦... 換個搜尋條件吧")]):[n("el-row",e._l(e.filteredData,function(t,i){return n("el-col",{key:i,attrs:{span:24}},[n("router-link",{attrs:{to:"/content/"+i}},[n("div",{staticClass:"card"},[n("div",{staticClass:"image",style:{"background-image":"url("+t.Picture1+")"}}),e._v(" "),n("div",{staticClass:"content"},[n("h3",[e._v(e._s(t.Name))]),e._v(" "),n("p",[e._v(e._s(t.Description))]),e._v(" "),n("span",[e._v(e._s(t.Name))]),e._v(" "),n("el-tag",{attrs:{type:"",size:"mini"}},[e._v(e._s(t.Zone))]),e._v(" "),n("br"),e._v(" "),n("i",{staticClass:"el-icon-location"}),e._v("\n              "+e._s(t.Add)+"\n              "),n("i",{staticClass:"el-icon-date"}),e._v("\n              "+e._s(t.Opentime)+"\n            ")],1)])])],1)})),e._v(" "),n("el-pagination",{attrs:{layout:"prev, pager, next",total:e.totalLength,"page-size":e.pageSize},on:{"current-change":e.changePage}})]],2)},staticRenderFns:[]};var v={components:{SearchItem:n("VU/8")(d,u,!1,function(e){n("Ev4d")},null,null).exports},computed:r()({},Object(l.d)(["totalLength"]),Object(l.b)(["selectedTags"])),methods:r()({},Object(l.c)(["deleteTag"]))},m={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"searchArea"}},[e.$store.state.isLoading?n("h2",[e._v("Loading")]):[n("h3",[e._v("Showing "+e._s(e.totalLength)+" results by…")]),e._v(" "),n("div",{staticClass:"selectTags"},e._l(e.selectedTags,function(t,i){return n("el-tag",{key:i,attrs:{closable:"",size:"small"},on:{close:function(n){e.deleteTag(t)}}},[e._v("\n        "+e._s(t.zone)+"\n      ")])})),e._v(" "),n("SearchItem")]],2)},staticRenderFns:[]};var p=n("VU/8")(v,m,!1,function(e){n("PJL6")},null,null).exports,g={data:function(){return{search:""}},computed:r()({id:function(){return this.$route.params.id}},Object(l.b)(["filteredData"]))},h={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"explore"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],attrs:{placeholder:" / Kogi Cosby sweater ethical"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}}),e._v(" "),n("span",[e._v("Explore")])]),e._v(" "),n("div",{staticClass:"image",style:{"background-image":"url("+e.filteredData[e.id].Picture1+")"}}),e._v(" "),n("div",{attrs:{id:"content"}},[n("h2",[e._v(e._s(e.filteredData[e.id].Name))]),e._v(" "),n("h3",[e._v(e._s(e.filteredData[e.id].Name))]),e._v(" "),n("el-tag",{attrs:{type:"",size:"mini"}},[e._v("\n      "+e._s(e.filteredData[e.id].Zone)+"\n    ")]),e._v(" "),n("br"),e._v(" "),n("i",{staticClass:"el-icon-location"}),e._v(" "),n("span",[e._v(e._s(e.filteredData[e.id].Add))]),e._v(" "),n("i",{staticClass:"el-icon-date"}),e._v(" "),n("span",[e._v(e._s(e.filteredData[e.id].Opentime))]),e._v(" "),n("p",[e._v(e._s(e.filteredData[e.id].Description))])],1)])},staticRenderFns:[]};var f=n("VU/8")(g,h,!1,function(e){n("57CR")},"data-v-51c27ed0",null).exports,_={render:function(){var e=this.$createElement;return(this._self._c||e)("h1",[this._v("404")])},staticRenderFns:[]},S=n("VU/8")(null,_,!1,null,null,null).exports;i.default.use(a.a);var z=new a.a({routes:[{path:"/",component:p},{path:"/content/:id",component:f},{path:"*",component:S}]}),A=n("mvHQ"),D=n.n(A),y=n("mtWM"),w=n.n(y);i.default.use(l.a);var b=new l.a.Store({state:{items:[],currentPage:1,isLoading:!0,searchKeyword:"",totalPage:0,pageSize:6,totalLength:0,tagList:[{zone:"楠梓區",isSelected:!1,id:"Nanzi-Dist",contentAmount:0},{zone:"左營區",isSelected:!1,id:"Zuoying-Dist",contentAmount:0},{zone:"鼓山區",isSelected:!1,id:"Gushan-Dist",contentAmount:0},{zone:"三民區",isSelected:!1,id:"Sanmin-Dist",contentAmount:0},{zone:"苓雅區",isSelected:!1,id:"Lingya-Dist",contentAmount:0},{zone:"新興區",isSelected:!1,id:"Xinxing-Dist",contentAmount:0},{zone:"前金區",isSelected:!1,id:"Qianjin-Dist",contentAmount:0},{zone:"鹽埕區",isSelected:!1,id:"Yancheng-Dist.",contentAmount:0},{zone:"前鎮區",isSelected:!1,id:"Qianzhen-Dist",contentAmount:0},{zone:"旗津區",isSelected:!1,id:"Qijin-Dist",contentAmount:0},{zone:"小港區",isSelected:!1,id:"Xiaogang-Dist",contentAmount:0},{zone:"鳳山區",isSelected:!1,id:"Fengshan-Dist",contentAmount:0},{zone:"茂林區",isSelected:!1,id:"Maolin-Dist",contentAmount:0},{zone:"甲仙區",isSelected:!1,id:"Jiaxian-Dist",contentAmount:0},{zone:"六龜區",isSelected:!1,id:"Liugui-Dist",contentAmount:0},{zone:"杉林區",isSelected:!1,id:"Shanlin-Dist",contentAmount:0},{zone:"美濃區",isSelected:!1,id:"Meinong-Dist",contentAmount:0},{zone:"內門區",isSelected:!1,id:"Neimen-Dist",contentAmount:0},{zone:"仁武區",isSelected:!1,id:"Renwu-Dist",contentAmount:0},{zone:"田寮區",isSelected:!1,id:"Tianliao-Dist",contentAmount:0},{zone:"旗山區",isSelected:!1,id:"Qishan-Dist",contentAmount:0},{zone:"梓官區",isSelected:!1,id:"Ziguan-Dist",contentAmount:0},{zone:"阿蓮區",isSelected:!1,id:"Alian-Dist",contentAmount:0},{zone:"湖內區",isSelected:!1,id:"Hunei-Dist",contentAmount:0},{zone:"岡山區",isSelected:!1,id:"Gangshan-Dist",contentAmount:0},{zone:"茄萣區",isSelected:!1,id:"Qieding-Dist",contentAmount:0},{zone:"路竹區",isSelected:!1,id:"Luzhu-Dist",contentAmount:0},{zone:"鳥松區",isSelected:!1,id:"Niaosong-Dist",contentAmount:0},{zone:"永安區",isSelected:!1,id:"Yong-an-Dist",contentAmount:0},{zone:"燕巢區",isSelected:!1,id:"Yanchao-Dist",contentAmount:0},{zone:"大樹區",isSelected:!1,id:"Dashu-Dist",contentAmount:0},{zone:"大寮區",isSelected:!1,id:"Daliao-Dist",contentAmount:0},{zone:"林園區",isSelected:!1,id:"Linyuan-Dist",contentAmount:0},{zone:"彌陀區",isSelected:!1,id:"Mituo-Dist",contentAmount:0},{zone:"橋頭區",isSelected:!1,id:"Qiaotou-Dist",contentAmount:0},{zone:"大社區",isSelected:!1,id:"Dashe-Dist",contentAmount:0},{zone:"那瑪夏區",isSelected:!1,id:"Namaxia-Dist",contentAmount:0},{zone:"桃源區",isSelected:!1,id:"Taoyuan-Dist",contentAmount:0}]},getters:{selectedTags:function(e){return e.tagList.filter(function(e){return e.isSelected})},filteredData:function(e){var t=[];t=""===e.searchKeyword?e.items:e.items.filter(function(t){var n=D()(t),i=e.searchKeyword.split(" ").join("|");if(null!==n.match(new RegExp(i,"i")))return!0}),e.tagList.forEach(function(e){var n=0;t.forEach(function(t){t.Zone===e.zone&&n++}),e.contentAmount=n}),t=0===b.getters.selectedTags.length?t:t.filter(function(e){return b.getters.selectedTags.some(function(t){return t.zone===e.Zone})}),e.totalPage=Math.ceil(t.length/e.pageSize),e.totalLength=t.length;var n=(e.currentPage-1)*e.pageSize,i=n+e.pageSize;return t.slice(n,i)}},mutations:{setTags:function(e,t){t.isSelected=!t.isSelected,e.currentPage=1,b.commit("scrollToTop")},deleteTag:function(e,t){t.isSelected=!1,e.currentPage=1,b.commit("scrollToTop")},setKeyword:function(e,t){e.searchKeyword=t.keyword},changePage:function(e,t){e.currentPage=t},setItems:function(e,t){e.items.push(t),e.isLoading=!1},scrollToTop:function(){var e=window.scrollY,t=Math.PI/(500/15),n=e/2,i=0,s=void 0,o=setInterval(function(){0!=window.scrollY?(i+=1,s=n-n*Math.cos(i*t),window.scrollTo(0,e-s)):clearInterval(o)},15)}},actions:{fetchApi:function(e,t){var n=e.commit;w.a.get("https://data.kcg.gov.tw/api/action/datastore_search",{params:{resource_id:"92290ee5-6e61-456f-80c0-249eae2fcc97"}}).then(function(e){for(var t=e.data.result.records,i=0;i<t.length;i++)n("setItems",t[i])}).catch(function(e){console.log(e)})}}}),L=b,k={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",[n("el-col",{attrs:{span:1}},[n("div",{staticClass:"grid-content bg-purple-dark"})]),e._v(" "),n("el-col",{attrs:{span:6}},[n("div",{staticClass:"grid-content bg-purple-dark"},[n("router-link",{attrs:{to:"/"}},[e._v("HaveFun")])],1)]),e._v(" "),n("el-col",{attrs:{span:7}},[n("div",{staticClass:"grid-content bg-purple-dark"},[n("i",{staticClass:"fas fa-search"}),e._v(" "),n("el-input",{attrs:{placeholder:"Explore your own activities"},on:{change:e.setKeyword},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]),e._v(" "),n("el-col",{attrs:{span:10}},[n("div",{staticClass:"grid-content bg-purple-dark"})])],1)},staticRenderFns:[]};var T=n("VU/8")({data:function(){return{search:""}},methods:{setKeyword:function(){this.$store.commit({type:"setKeyword",keyword:this.search}),this.search=""}}},k,!1,function(e){n("ib4m")},null,null).exports,x={data:function(){return{checkList:[],date:"",tags:[]}},computed:r()({},Object(l.d)(["tagList"])),methods:r()({},Object(l.c)(["deleteTag","setTags"]))},C={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",[n("el-col",{attrs:{span:7}},[n("div",{attrs:{id:"filter"}},[n("div",{attrs:{id:"location"}},[n("h2",[e._v("Location")]),e._v(" "),e._l(e.tagList,function(t,i){return n("li",{key:i},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.isSelected,expression:"item.isSelected"}],attrs:{type:"checkbox",id:t.id},domProps:{checked:Array.isArray(t.isSelected)?e._i(t.isSelected,null)>-1:t.isSelected},on:{change:function(n){var i=t.isSelected,s=n.target,o=!!s.checked;if(Array.isArray(i)){var a=e._i(i,null);s.checked?a<0&&e.$set(t,"isSelected",i.concat([null])):a>-1&&e.$set(t,"isSelected",i.slice(0,a).concat(i.slice(a+1)))}else e.$set(t,"isSelected",o)}}}),e._v(" "),n("label",{attrs:{for:t.id},on:{click:function(n){n.stopPropagation(),e.setTags(t)}}},[e._v("\n            "+e._s(t.zone)+"\n            "),n("span",{staticClass:"count"},[e._v(e._s(t.contentAmount))])])])})],2)])]),e._v(" "),n("el-col",{attrs:{span:17}},[n("router-view")],1)],1)},staticRenderFns:[]};var P={name:"App",components:{Header:T,FilterArea:n("VU/8")(x,C,!1,function(e){n("W7Lg")},null,null).exports},mounted:function(){var e=this;this.$store.dispatch("fetchApi"),setInterval(function(){e.$store.dispatch("fetchApi")},1e5)}},$={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("Header"),this._v(" "),t("FilterArea")],1)},staticRenderFns:[]};var E=n("VU/8")(P,$,!1,function(e){n("uIyk")},null,null).exports;i.default.use(o.a),i.default.config.productionTip=!1,new i.default({el:"#app",router:z,store:L,components:{App:E},template:"<App/>"})},PJL6:function(e,t){},W7Lg:function(e,t){},ib4m:function(e,t){},tvR6:function(e,t){},uIyk:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.0e599dda5a671bfe94e6.js.map